<div id="MobileStickyCTA" class="mobile-sticky-cta">
  <div class="sticky-cta-content">
    <div class="sticky-info">
      <span class="sticky-title">{{ product.title | truncate: 25 }}</span>
      <span class="sticky-price">{{ product.price | money }}</span>
    </div>
    <button class="atc-btn" style="height: 50px; width: auto; padding: 0 2.5rem;" onclick="document.querySelector('.atc-btn').click()">
      ADD TO CART
    </button>
  </div>
</div>

<style>
  .mobile-sticky-cta {
    position: fixed; bottom: 0; left: 0; right: 0;
    background: rgba(255,255,255,0.95); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
    border-top: 1px solid #eee; padding: 1.2rem 2rem; z-index: 900;
    transform: translateY(100%); transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    box-shadow: 0 -10px 30px rgba(0,0,0,0.05);
  }
  .mobile-sticky-cta.visible { transform: translateY(0); }
  .sticky-cta-content { display: flex; justify-content: space-between; align-items: center; }
  .sticky-info { display: flex; flex-direction: column; }
  .sticky-title { font-size: 1.1rem; font-weight: 700; opacity: 0.6; }
  .sticky-price { font-size: 1.6rem; font-weight: 800; color: var(--color-accent); }
  @media screen and (min-width: 990px) { .mobile-sticky-cta { display: none; } }
</style>

<script>
  window.addEventListener('scroll', () => {
    const mainBtn = document.querySelector('.section-product-main .atc-btn');
    const sticky = document.getElementById('MobileStickyCTA');
    if(!mainBtn || !sticky) return;
    const rect = mainBtn.getBoundingClientRect();
    if (rect.bottom < 0) {
      sticky.classList.add('visible');
    } else {
      sticky.classList.remove('visible');
    }
  });
</script>